"use strict";(self.webpackChunkuniversity_docs=self.webpackChunkuniversity_docs||[]).push([[4059],{3905:function(e,a,n){n.d(a,{Zo:function(){return p},kt:function(){return c}});var t=n(7294);function r(e,a,n){return a in e?Object.defineProperty(e,a,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[a]=n,e}function i(e,a){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(e);a&&(t=t.filter((function(a){return Object.getOwnPropertyDescriptor(e,a).enumerable}))),n.push.apply(n,t)}return n}function o(e){for(var a=1;a<arguments.length;a++){var n=null!=arguments[a]?arguments[a]:{};a%2?i(Object(n),!0).forEach((function(a){r(e,a,n[a])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(n,a))}))}return e}function l(e,a){if(null==e)return{};var n,t,r=function(e,a){if(null==e)return{};var n,t,r={},i=Object.keys(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||(r[n]=e[n]);return r}(e,a);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(t=0;t<i.length;t++)n=i[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(r[n]=e[n])}return r}var d=t.createContext({}),m=function(e){var a=t.useContext(d),n=a;return e&&(n="function"==typeof e?e(a):o(o({},a),e)),n},p=function(e){var a=m(e.components);return t.createElement(d.Provider,{value:a},e.children)},s={inlineCode:"code",wrapper:function(e){var a=e.children;return t.createElement(t.Fragment,{},a)}},g=t.forwardRef((function(e,a){var n=e.components,r=e.mdxType,i=e.originalType,d=e.parentName,p=l(e,["components","mdxType","originalType","parentName"]),g=m(n),c=r,u=g["".concat(d,".").concat(c)]||g[c]||s[c]||i;return n?t.createElement(u,o(o({ref:a},p),{},{components:n})):t.createElement(u,o({ref:a},p))}));function c(e,a){var n=arguments,r=a&&a.mdxType;if("string"==typeof e||r){var i=n.length,o=new Array(i);o[0]=g;var l={};for(var d in a)hasOwnProperty.call(a,d)&&(l[d]=a[d]);l.originalType=e,l.mdxType="string"==typeof e?e:r,o[1]=l;for(var m=2;m<i;m++)o[m]=n[m];return t.createElement.apply(null,o)}return t.createElement.apply(null,n)}g.displayName="MDXCreateElement"},6773:function(e,a,n){n.r(a),n.d(a,{frontMatter:function(){return l},contentTitle:function(){return d},metadata:function(){return m},toc:function(){return p},default:function(){return g}});var t=n(7462),r=n(3366),i=(n(7294),n(3905)),o=["components"],l={id:"android_navigation",title:"Navegaci\xf3n"},d=void 0,m={unversionedId:"android/android_navigation",id:"android/android_navigation",title:"Navegaci\xf3n",description:"Se va a remotar el proyecto de la secci\xf3n de Fragments para esta secci\xf3n e implementaremos lo siguiente:",source:"@site/docs/android/android_navigation.md",sourceDirName:"android",slug:"/android/android_navigation",permalink:"/cursos/docs/android/android_navigation",tags:[],version:"current",frontMatter:{id:"android_navigation",title:"Navegaci\xf3n"}},p=[{value:"Agregar navigation components",id:"agregar-navigation-components",children:[{value:"Agregar dependencias",id:"agregar-dependencias",children:[],level:3},{value:"Agregar navigation graph",id:"agregar-navigation-graph",children:[],level:3},{value:"Agregar NavHostFragment",id:"agregar-navhostfragment",children:[],level:3}],level:2},{value:"Actualizar fragments",id:"actualizar-fragments",children:[{value:"fragment_title",id:"fragment_title",children:[],level:3},{value:"second_fragment",id:"second_fragment",children:[],level:3}],level:2},{value:"Agregar fragments al navigation graph",id:"agregar-fragments-al-navigation-graph",children:[],level:2},{value:"Agregar click listener al boton",id:"agregar-click-listener-al-boton",children:[],level:2}],s={toc:p};function g(e){var a=e.components,n=(0,r.Z)(e,o);return(0,i.kt)("wrapper",(0,t.Z)({},s,n,{components:a,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"Se va a remotar el proyecto de la secci\xf3n de Fragments para esta secci\xf3n e implementaremos lo siguiente:"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Crear un ",(0,i.kt)("strong",{parentName:"p"},"navigation graph")," para nuestros fragmentos usando la libreria de navegaci\xf3n y el editor de navegaci\xf3n.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Crear ",(0,i.kt)("strong",{parentName:"p"},"navigation paths")," en la app.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Agregar navegaci\xf3n usando un ",(0,i.kt)("strong",{parentName:"p"},"options menu"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Implementar un ",(0,i.kt)("strong",{parentName:"p"},"Up button")," para que podamos navegar hacia atr\xe1s.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Agregar un ",(0,i.kt)("strong",{parentName:"p"},"Navigation drawer"),"."))),(0,i.kt)("h2",{id:"agregar-navigation-components"},"Agregar navigation components"),(0,i.kt)("h3",{id:"agregar-dependencias"},"Agregar dependencias"),(0,i.kt)("p",null,(0,i.kt)("strong",{parentName:"p"},"Navigation component")," es una libreria que nos permite manejar navegaci\xf3n compleja y animaciones de transici\xf3n."),(0,i.kt)("p",null,"Se debe agregar en nuestro archivo gradle, abrimos Gradle scripts y doble clic en ",(0,i.kt)("strong",{parentName:"p"},"build.gradle (project:)")," y agregamos lo siguiente dentro de ",(0,i.kt)("inlineCode",{parentName:"p"},"buildScripts {...}")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'ext {\n    navigationVersion = "2.3.0"\n}\n\n')),(0,i.kt)("p",null,"Luego en el archivo ",(0,i.kt)("strong",{parentName:"p"},"build.gradle (module: app)")," agregamos lo siguiente dentro de ",(0,i.kt)("inlineCode",{parentName:"p"},"dependencies {...}"),":"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre"},'implementation "androidx.navigation:navigation-fragment-ktx:$navigationVersion"\nimplementation "androidx.navigation:navigation-ui-ktx:$navigationVersion"\n\n')),(0,i.kt)("h3",{id:"agregar-navigation-graph"},"Agregar navigation graph"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Nos colocamos sobre el folder ",(0,i.kt)("inlineCode",{parentName:"p"},"res"),", clic derecho, seleccionamos ",(0,i.kt)("strong",{parentName:"p"},"new > Android Resource File"),".")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Seleccionar ",(0,i.kt)("strong",{parentName:"p"},"Navigation")," como Resource Type.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"El nombre del archivo debe ser ",(0,i.kt)("strong",{parentName:"p"},"navigation"))),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"El panel de ",(0,i.kt)("strong",{parentName:"p"},"Chose qualifiers")," debe estar vacio.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Clic en OK.")),(0,i.kt)("li",{parentName:"ul"},(0,i.kt)("p",{parentName:"li"},"Abrimos el archivo res > navigation >  navigation.xml, hasta el momento est\xe1 vacio."))),(0,i.kt)("h3",{id:"agregar-navhostfragment"},"Agregar NavHostFragment"),(0,i.kt)("p",null,"Un ",(0,i.kt)("strong",{parentName:"p"},"navigation host fragment")," actua como un host (anfitri\xf3n, propietario, padre) en el navigation graph. Usualmente se nombre ",(0,i.kt)("inlineCode",{parentName:"p"},"NavHostFragment"),"."),(0,i.kt)("p",null,"Cuando el usuario se mueve entre pantallas definidas en el navigation graph, el navigation host cambia los fragmentos seg\xfan sea necesario. Tambien se ocupa de manejar la funcionalidad y fragmentos en la pila hacia atr\xe1s."),(0,i.kt)("p",null,"Para definir el NavHostFragment nos vamos a nuestro activity_main.xml y reemplazamos el TitleFragment de la siguiente forma:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<fragment\n  android:id="@+id/mainNavHostFragment"\n  android:name="androidx.navigation.fragment.NavHostFragment"\n  android:layout_width="match_parent"\n  android:layout_height="match_parent"\n  app:navGraph="@navigation/navigation"\n  app:defaultNavHost="true" />\n')),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Asignamos un ID para el fragment: ",(0,i.kt)("inlineCode",{parentName:"p"},"myNavHostFragment"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Se define el namespace: ",(0,i.kt)("inlineCode",{parentName:"p"},"androidx.navigation.fragment.NavHostFragment"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Se especifica el navigation graph que creamos anteriormente: ",(0,i.kt)("inlineCode",{parentName:"p"},"@navigation/navigation"))),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Se especifica si es host por defecto ",(0,i.kt)("inlineCode",{parentName:"p"},'app:defaultNavHost="true"'),". Ahora que es host por defecto se encarga de manejar el bot\xf3n hacia atr\xe1s del sistema."))),(0,i.kt)("h2",{id:"actualizar-fragments"},"Actualizar fragments"),(0,i.kt)("h3",{id:"fragment_title"},"fragment_title"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"En ",(0,i.kt)("strong",{parentName:"li"},"fragment_title.xml")," actualizamos el layout para agregar un bot\xf3n de la siguiente forma:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<layout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:app="http://schemas.android.com/apk/res-auto"\n    xmlns:tools="http://schemas.android.com/tools"\n    tools:context="com.example.fragments.TitleFragment">\n\n    <LinearLayout\n        android:orientation="vertical"\n        android:layout_height="match_parent"\n        android:layout_width="match_parent">\n\n        <TextView\n            android:id="@+id/title_text"\n            android:text="Fragmento 1"\n            android:textAlignment="center"\n            android:padding="16dp"\n            android:layout_width="match_parent"\n            android:layout_height="wrap_content">\n\n        </TextView>\n\n        <Button\n            android:id="@+id/navigate_button"\n            android:layout_width="match_parent"\n            android:layout_height="wrap_content"\n            android:padding="16dp"\n            android:text="Ir a fragmento 2" />\n\n    </LinearLayout>\n</layout>\n')),(0,i.kt)("h3",{id:"second_fragment"},"second_fragment"),(0,i.kt)("p",null,"Creamos un segundo fragment que se llame ",(0,i.kt)("strong",{parentName:"p"},"second_fragment")," y definimos el layout de la siguiente forma:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<?xml version="1.0" encoding="utf-8"?>\n<layout xmlns:android="http://schemas.android.com/apk/res/android"\n    xmlns:tools="http://schemas.android.com/tools">\n    <FrameLayout\n        android:layout_width="match_parent"\n        android:layout_height="match_parent"\n        tools:context=".SecondFragment">\n\n        <TextView\n            android:id="@+id/second_fragment_text"\n            android:textAlignment="center"\n            android:layout_width="match_parent"\n            android:layout_height="match_parent"\n            android:text="Segundo fragment" />\n\n    </FrameLayout>\n</layout>\n')),(0,i.kt)("p",null,"En la clase del segundo fragment ",(0,i.kt)("inlineCode",{parentName:"p"},"SecondFragment.kt")," dejamos nuestro c\xf3digo de la siguiente forma (despues de los imports):"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"class SecondFragment : Fragment() {\n\n    override fun onCreateView(\n        inflater: LayoutInflater, container: ViewGroup?,\n        savedInstanceState: Bundle?\n    ): View? {\n        val binding = DataBindingUtil.inflate<FragmentSecondBinding>(inflater,\n            R.layout.fragment_second, container, false)\n        return binding.root\n    }\n}\n\n")),(0,i.kt)("blockquote",null,(0,i.kt)("p",{parentName:"blockquote"},"\ud83d\udca1 ",(0,i.kt)("strong",{parentName:"p"},"IMPORTANTE: Si el compilador marca errores, agregar los imports necesarios."))),(0,i.kt)("h2",{id:"agregar-fragments-al-navigation-graph"},"Agregar fragments al navigation graph"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Abrir navigation.xml, en el editor de navegaci\xf3n, clic en New destination. Una lista de fragments y activities aparece.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Seleccionamos fragment_title primeramente.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"De la misma forma agregamos el SecondFragment."))),(0,i.kt)("p",null,'Si en la vista previa aparece un mensaje "Preview Unavailable", vamos al codigo de navigation.xml y nos aseguramos que nuestro segundo frament tenga la propiedad ',(0,i.kt)("inlineCode",{parentName:"p"},'tools:layout="@layout/fragment_second"'),"."),(0,i.kt)("p",null,"Nos quedara de la siguiente forma:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-xml"},'<fragment\n    android:id="@+id/titleFragment"\n    android:name="com.example.fragments.TitleFragment"\n    android:label="fragment_title"\n    tools:layout="@layout/fragment_title" />\n\n<fragment\n    android:id="@+id/secondFragment"\n    tools:layout="@layout/fragment_second"\n    android:name="com.example.fragments.SecondFragment"\n    android:label="SecondFragment" />\n')),(0,i.kt)("ol",{start:4},(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Seleccionamos el titleFragment, aparecera un circulo al lado derecho y arrastramos hacia secondFragment.")),(0,i.kt)("li",{parentName:"ol"},(0,i.kt)("p",{parentName:"li"},"Seleccionamos la flecha que se agrego entre los dos fragments y observamos el panel de atributos, el ID de la accion debe aparecer como ",(0,i.kt)("inlineCode",{parentName:"p"},"action_titleFragment_to_secondFragment")))),(0,i.kt)("h2",{id:"agregar-click-listener-al-boton"},"Agregar click listener al boton"),(0,i.kt)("ol",null,(0,i.kt)("li",{parentName:"ol"},"En TitleFragment.kt, dentro del m\xe9todo ",(0,i.kt)("inlineCode",{parentName:"li"},"onCreateView()"),", agregamos la siguiente linea antes del return:")),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"binding.navigateButton.setOnClickListener {\n  it.findNavController().navigate(R.id.action_titleFragment_to_secondFragment)\n}\n")),(0,i.kt)("p",null,"En esta parte debemos asegurarnos que tenemos el siguiente import:"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-kotlin"},"import androidx.navigation.findNavController\n")),(0,i.kt)("p",null,"Ahora corremos la app, al dar tap al bot\xf3n ir al fragmento 2, el secondFragment se abre."))}g.isMDXComponent=!0}}]);